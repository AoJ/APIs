<!-- Webshell APIs
 Copyright (C) 2013 Webshell SAS

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program. If not, see <http://www.gnu.org/licenses/>.
 -->
<body>
 <div class="apicontainer">
<div class="main api-profile">
 <div class="constraint">
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postSiteAdmin</span>
</div>
<div class="meta">
<p>Creates or updates subreddits.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sr</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit name.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">name</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
A title for the subreddit. Maximum 100 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">title</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
A title for the subreddit for the header. Maximum 500 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">header-title</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit domain. "Own a domain? Enter it here and then go to your DNS provider and add a CNAME record aliasing your domain to rhs.reddit.com. You will be able to access your reddit through your domain."<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">domain</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit description. Maximum 5120 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">description</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit language.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">lang</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not this is a "mature content" subreddit; viewers must be at least 18 years old.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">over_18</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not to allow this subreddit to be shown in the "default set".<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">allow_top</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not to show thumbnails images of content.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">show_media</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit type. Accepted values: public (anyone can view and submit), private (only approved members can view and submit), restricted (anyone can view, but only approved members can submit)<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">type</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Subreddit content options. Accepted values: any (any link type is allowed), link (only links to external sites allowed), self (only self posts allowed)<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">link_type</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Sponsorship text. Maximum 500 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sponsorship-text</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Sponsorship name. Maximum 500 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sponsorship-name</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Sponsorship URL. Maximum 500 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sponsorship-url</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not to show subreddit style while accessing the subreddit through the domain?<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">css_on_cname</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postSubredditStylesheet</span>
</div>
<div class="meta">
<p>Updates the CSS for a subreddit.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The stylesheet.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">stylesheet_contents</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Operation. Accepted values: save, preview<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">op</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postDeleteSrImg</span>
</div>
<div class="meta">
<p>Deletes a subreddit image. Called called upon requested delete on /about/stylesheet. Updates the site's image list, and causes the <li> which wraps the image to be hidden.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The image to delete.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">img_name</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postDeleteSrHeader</span>
</div>
<div class="meta">
<p>Called when the user request that the header on a subreddit be reset.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The image to delete.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">img_name</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method GET">GET</span><span class="route">getUploadSrImg</span>
</div>
<div class="meta">
<p>Completely unnecessary method which exists because safari can be dumb too.  On page reload after an image has been posted in safari, the iframe to which the request posted preserves the URL of the POST, and safari attempts to execute a GET against it.  The iframe is hidden, so what it returns is completely irrelevant.<br/>               </p>
</div>
<hr>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postUploadSrImg</span>
</div>
<div class="meta">
<p>Called on /about/stylesheet when an image needs to be replaced or uploaded, as well as on /about/edit for updating the header.  Unlike every other POST in this controller, this method does not get called with Ajax but rather is from the original form POSTing to a hidden iFrame.  Unfortunately, this means the response needs to generate an page with a script tag to fire the requisite updates to the parent document, and, more importantly, that we can't use our normal toolkit for passing those responses back. The result of this function is a rendered UploadedImage() object in charge of firing the completedUploadImage() call in JS.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The name for the image.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">name</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Form ID. Maximum 100 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">formid</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not this is a header image? Accepted values: 0, 1<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">header</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Whether or not something is sponsored? Used by admins only. Accepted values: 0, 1<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sponsor</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postSubscribe</span>
</div>
<div class="meta">
<p>Subscribes or unsubscribes the logged-in user to a subreddit.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
Accepted values: sub (subscribe), unsub (unsubscribe)<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">action</span>
<p class="required">Required</p>
</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The subreddit.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">sr</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
<div class="endpoint" data-group="documentation" id="endpoint-nameOfTheMethod" style="">
<div class="title">
<span class="method POST">POST</span><span class="route">postSearchRedditNames</span>
</div>
<div class="meta">
<p>Searches for subreddits with the given query.<br/>               </p>
</div>
<hr>
<div class="parameters">
<div class="titles">
<div class="console">Default</div>
<div class="description">Description</div>
<div class="name">Parameter</div>
</div>
<div class="parameter">
<div class="console">
</div>
<div class="description">
<span class="parameter-type">string</span>
<p>
The search query. Maximum 50 characters.<br/>                       </p>
</div>
<div class="name">
<span class="parameter-name">query</span>
<p class="required">Required</p>
</div>
</div>
</div>
</div>
